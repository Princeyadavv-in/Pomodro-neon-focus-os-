<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neon Focus OS v2</title>
<style>
:root {
  --neon:#00ffcc;
  --bg-light:#eef;
  --bg-dark:#001;
}
* { box-sizing:border-box; font-family:Inter,Arial; }
body {
  background: radial-gradient(circle at top, #021, black);
  color: var(--neon);
  display:flex;
  flex-direction: column;
  align-items:center;
  min-height:100vh;
  padding:15px;
  transition: background 0.5s, color 0.5s;
}
.container { max-width:600px; width:100%; }
h1,h2,h3 { text-align:center; text-shadow:0 0 20px var(--neon); }
.glow { box-shadow:0 0 25px var(--neon); }
.flip-clock { display:flex; justify-content:center; font-size:48px; letter-spacing:4px; margin:15px; }
button,input,select { background:black; border:2px solid var(--neon); color:var(--neon); padding:8px; margin:4px; }
button:hover { background:var(--neon); color:black; cursor:pointer; }
.card { border:1px solid var(--neon); padding:10px; margin-top:10px; }
.task.active { background:var(--neon); color:black; }
.small { font-size:12px; opacity:.8; }
.bar { height:8px; background:var(--neon); margin:4px 0; }
.top-right { position:absolute; top:10px; right:10px; }
.bottom-left { position:absolute; bottom:10px; left:10px; }
.night { background:black; color:var(--neon); }
.day { background:#eef; color:#033; }
.focus-mode { filter: blur(0px); }
.motivational { font-style: italic; text-align:center; margin:10px; }
.audio-control { display:flex; flex-direction:column; flex-wrap:wrap; justify-content:center; }
.audio-control div { margin:4px 0; display:flex; align-items:center; }
</style>
</head>
<body>
<div class="container">
<h1>âš¡ Neon Focus OS v2</h1>

<!-- MODE & INTENTION -->
<div class="card glow">
<select id="mode">
  <option value="25">ğŸ… Pomodoro (25)</option>
  <option value="50">ğŸš€ Deep Work (50)</option>
  <option value="5">â˜• Short Break</option>
  <option value="15">ğŸ›Œ Long Break</option>
  <option value="custom">â° Custom</option>
</select>
<input id="customTime" type="number" placeholder="Minutes" style="display:none;">
<input id="intent" placeholder="Session intention">
<button onclick="toggleTheme()">ğŸŒ™ Toggle Day/Night</button>
</div>

<!-- FLIP CLOCK -->
<div class="flip-clock glow" id="display">25:00</div>
<div class="bar" id="progress" style="width:100%;"></div>
<div style="text-align:center">
<button onclick="start()">Start</button>
<button onclick="pause()">Pause</button>
<button onclick="reset()">Reset</button>
<button onclick="focusMode()">ğŸ¯ Focus Mode</button>
</div>

<!-- ACTIVE TASK -->
<div class="card glow top-right">
<h3>ğŸ¯ Active Task</h3>
<div id="activeTask">None</div>
</div>

<!-- TASKS -->
<div class="card bottom-left">
<h3>ğŸ“ Tasks</h3>
<input id="taskInput" placeholder="New task">
<button onclick="addTask()">+</button>
<div id="tasks"></div>
</div>

<!-- FOCUS DASHBOARD -->
<div class="card glow">
<h3>ğŸ“Š Focus Dashboard</h3>
<div>ğŸ”¥ Streak: <span id="streak">0</span> days</div>
<div>ğŸ… Today: <span id="todayPomo">0</span></div>
<div>ğŸ’¯ Focus Score: <span id="score">0</span></div>
</div>

<!-- MOTIVATIONAL QUOTE -->
<div class="card glow">
<div class="motivational" id="quote"></div>
</div>

<!-- NATURE SOUNDS -->
<div class="card glow">
<h3>ğŸ¶ Nature & Focus Sounds</h3>
<div class="audio-control" id="soundControls"></div>
</div>

<!-- MUSIC LINKS -->
<div class="card glow">
  <h3>ğŸµ Music Links</h3>
  <div style="display:flex; align-items:center; gap:10px; margin:4px;">
    <a href="https://music.youtube.com/" target="_blank">
      <img src="https://img.icons8.com/?size=100&id=N5tKllbBZyYe&format=png&color=000000" alt="YouTube" style="width:24px; height:24px; vertical-align:middle;">
      YouTube music
    </a>
  </div>
  <div style="display:flex; align-items:center; gap:10px; margin:4px;">
    <a href="https://open.spotify.com/" target="_blank">
      <img src="https://img.icons8.com/?size=100&id=G9XXzb9XaEKX&format=png&color=000000" alt="Spotify" style="width:24px; height:24px; vertical-align:middle;">
      Spotify
    </a>
  </div>
</div>

</div>

<!-- AUDIO ELEMENTS -->
<audio id="rain" loop><source src="https://www.soundjay.com/nature/rain-01.mp3" type="audio/mpeg"></audio>
<audio id="birds" loop><source src="https://www.soundjay.com/nature/birds-1.mp3" type="audio/mpeg"></audio>
<audio id="thunder" loop><source src="https://www.soundjay.com/nature/thunder-01.mp3" type="audio/mpeg"></audio>
<audio id="piano" loop><source src="https://www.soundjay.com/nature/piano-01.mp3" type="audio/mpeg"></audio>
<audio id="ocean" loop><source src="https://www.soundjay.com/nature/ocean-01.mp3" type="audio/mpeg"></audio>
<audio id="wind" loop><source src="https://www.soundjay.com/nature/wind-01.mp3" type="audio/mpeg"></audio>
<audio id="bell"><source src="https://actions.google.com/sounds/v1/alarms/soft_bell.ogg"></audio>

<script>
/* -------- TIMER -------- */
let total=1500, remaining=1500, timer=null;
const display=document.getElementById("display");
const modeSelect=document.getElementById("mode");
const bell=document.getElementById('bell');
const tasks = document.getElementById("tasks");
const activeTask = document.getElementById("activeTask");
const streak = document.getElementById("streak");
const todayPomo = document.getElementById("todayPomo");
const score = document.getElementById("score");
const progressBar = document.getElementById("progress");

const quotes = [
"Chhoti chhoti jeet bhi badi hoti hai!","Focus karo, success apne aap aayega!",
"Kal ka kaam aaj hi pura karo!","Consistency > Intensity.","Pomodoro se hi productivity badhti hai!"
];
function randomQuote(){
 document.getElementById('quote').textContent=quotes[Math.floor(Math.random()*quotes.length)];
}

const customTime = document.getElementById("customTime");

modeSelect.onchange=()=>{
 if(modeSelect.value==='custom'){
  customTime.style.display='inline';
  customTime.onchange = () => setTime(customTime.value*60);
 } else {
  customTime.style.display='none';
  setTime(parseInt(modeSelect.value)*60);
 }
};

function start(){
 if(timer) return;
 timer=setInterval(()=>{
  remaining--; update();
  if(remaining<=0){ finish(); }
 },1000);
 randomQuote();
}
function pause(){ clearInterval(timer); timer=null; }
function reset(){ pause(); remaining=total; update(); }
function setTime(sec){ total=sec; remaining=sec; update(); }
function update(){
 let m=Math.floor(remaining/60), s=remaining%60;
 display.textContent=`${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
 progressBar.style.width = `${(remaining / total) * 100}%`;
}
function finish(){
 pause(); bell.play(); logSession(total/60); reset(); randomQuote(); 
 if('Notification' in window && Notification.permission==='granted'){
  new Notification('Pomodoro Session Complete!', { body: 'Time for a break!' });
 }
}

/* -------- TASKS -------- */
let active=null;
function loadTasks(){
 const t=JSON.parse(localStorage.getItem("tasks")||"[]");
 tasks.innerHTML="";
 t.forEach((x,i)=>{
  const d=document.createElement("div");
  d.className="task "+(i===active?"active":"");
  d.innerHTML=`${x.text} ğŸ…${x.p||0} <button onclick="deleteTask(${i})">âŒ</button>`;
  d.onclick=()=>{active=i; activeTask.textContent=x.text; loadTasks();}
  tasks.appendChild(d);
 });
}
function addTask(){
 const v=document.getElementById('taskInput').value.trim(); if(!v) return;
 const t=JSON.parse(localStorage.getItem("tasks")||"[]");
 t.push({text:v,p:0});
 localStorage.setItem("tasks",JSON.stringify(t));
 document.getElementById('taskInput').value=""; loadTasks();
}
function deleteTask(index){
 const t=JSON.parse(localStorage.getItem("tasks")||"[]");
 t.splice(index,1);
 if(active===index) active=null;
 if(active>index) active--;
 localStorage.setItem("tasks",JSON.stringify(t));
 loadTasks();
}

/* -------- STATS & LEADERBOARD -------- */
function key(){ return new Date().toISOString().slice(0,10); }
function logSession(min){
 const d=JSON.parse(localStorage.getItem("stats")||"{}");
 const k=key(); d[k]=d[k]||{p:0,m:0}; d[k].p++; d[k].m+=min;
 localStorage.setItem("stats",JSON.stringify(d));
 if(active!==null){ const t=JSON.parse(localStorage.getItem("tasks")); t[active].p++; localStorage.setItem("tasks",JSON.stringify(t));}
 renderStats();
}
function renderStats(){
 const d=JSON.parse(localStorage.getItem("stats")||"{}");
 const keys=Object.keys(d).sort();
 todayPomo.textContent=d[key()]?.p||0;
 let streakCount=0;
 const today=new Date();
 for(let i=0;i<30;i++){
  const checkDate=new Date(today);
  checkDate.setDate(today.getDate()-i);
  const k=checkDate.toISOString().slice(0,10);
  if(d[k] && d[k].p>0) streakCount++;
  else break;
 }
 streak.textContent=streakCount;
 let totalScore=0;
 keys.forEach(k=>{ totalScore+=d[k].p*10; });
 score.textContent=totalScore;
}

setTime(1500); loadTasks(); renderStats();
if('Notification' in window) Notification.requestPermission();
document.addEventListener('keydown',(e)=>{
 if(e.code==='Space'){ e.preventDefault(); if(timer) pause(); else start(); }
 else if(e.key==='r'||e.key==='R') reset();
 else if(e.key==='f'||e.key==='F') focusMode();
});

/* -------- NATURE SOUNDS WITH SLIDERS -------- */
const soundList=[
 {id:'rain',emoji:'ğŸŒ§ï¸',name:'Rain'},
 {id:'birds',emoji:'ğŸ¦',name:'Birds'},
 {id:'thunder',emoji:'âš¡',name:'Thunder'},
 {id:'piano',emoji:'ğŸ¹',name:'Piano'},
 {id:'ocean',emoji:'ğŸŒŠ',name:'Ocean'},
 {id:'wind',emoji:'ğŸŒ¬ï¸',name:'Wind'}
];
const soundControls=document.getElementById('soundControls');
soundList.forEach(s=>{
  const div=document.createElement('div');
  const btn=document.createElement('button');
  btn.textContent=`${s.emoji} ${s.name}`;
  btn.style.flex='0 0 120px';
  btn.onclick=()=> toggleSound(s.id);
  const slider=document.createElement('input');
  slider.type='range'; slider.min=0; slider.max=1; slider.step=0.01; slider.value=0.5;
  slider.style.flex='1'; slider.style.marginLeft='10px';
  slider.oninput=()=> document.getElementById(s.id).volume=slider.value;
  div.appendChild(btn); div.appendChild(slider);
  soundControls.appendChild(div);
});
function toggleSound(id){
  const audio=document.getElementById(id);
  if(audio.paused) audio.play();
  else audio.pause();
}

/* -------- THEMES -------- */
let nightMode=true;
function toggleTheme(){
 nightMode=!nightMode;
 document.body.style.background=nightMode?'radial-gradient(circle at top, #021, black)':'radial-gradient(circle at top, #eef, #ccf)';
 document.body.style.color=nightMode?'var(--neon)':'#033';
}

/* -------- FOCUS MODE -------- */
let focus=false;
function focusMode(){
 focus=!focus;
 document.body.classList.toggle('focus-mode',focus);
 const distractions=document.querySelectorAll('.bottom-left,.top-right');
 distractions.forEach(el=>el.style.filter=focus?'blur(5px)':'none');
}
</script>
</body>
</html>

